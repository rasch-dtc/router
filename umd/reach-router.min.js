!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("url")):"function"==typeof define&&define.amd?define(["exports","react","url"],t):t(e.ReachRouter={},e.React,e.url)}(this,function(e,t,n){"use strict";var o="default"in t?t.default:t;n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e){var t=e.location,n=t.search,o=t.hash,r=t.href,i=t.origin,a=t.protocol,u=t.host,s=t.hostname,c=t.port,l=e.location.pathname;!l&&r&&f&&(l=new URL(r).pathname);return{pathname:l.split("/").map(function(e){return encodeURIComponent(decodeURIComponent(e))}).join("/"),search:n,hash:o,href:r,origin:i,protocol:a,host:u,hostname:s,port:c,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}},l=function(e,t){var n=[],o=c(e),r=!1,a=function(){};return{get location(){return o},get transitioning(){return r},_onTransitionComplete:function(){r=!1,a()},listen:function(t){n.push(t);var r=function(){o=c(e),t({location:o,action:"POP"})};return e.addEventListener("popstate",r),function(){e.removeEventListener("popstate",r),n=n.filter(function(e){return e!==t})}},navigate:function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=u.state,l=u.replace,p=void 0!==l&&l;if("number"==typeof t)e.history.go(t);else{s=i({},s,{key:Date.now()+""});try{r||p?e.history.replaceState(s,null,t):e.history.pushState(s,null,t)}catch(n){e.location[p?"replace":"assign"](t)}}o=c(e),r=!0;var f=new Promise(function(e){return a=e});return n.forEach(function(e){return e({location:o,action:"PUSH"})}),f}}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.indexOf("?"),n=0,o=[{pathname:t>-1?e.substr(0,t):e,search:t>-1?e.substr(t):""}],r=[null];return{get location(){return o[n]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return o},get index(){return n},get state(){return r[n]},pushState:function(e,t,i){var a=i.split("?"),u=a[0],s=a[1],c=void 0===s?"":s;n++,o.push({pathname:u,search:c.length?"?"+c:c}),r.push(e)},replaceState:function(e,t,i){var a=i.split("?"),u=a[0],s=a[1],c=void 0===s?"":s;o[n]={pathname:u,search:c},r[n]=e},go:function(e){var t=n+e;t<0||t>r.length-1||(n=t)}}}},f=!("undefined"==typeof window||!window.document||!window.document.createElement),h=l(f?window:p()),d=h.navigate,m=function(e,t,n,o,r,i,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,a,u],l=0;(s=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}},v=function(e,t){return e.substr(0,t.length)===t},y=function(e,t){for(var n=void 0,o=void 0,r=t.split("?")[0],i=x(r),a=""===i[0],u=_(e),s=0,c=u.length;s<c;s++){var l=!1,p=u[s].route;if(p.default)o={route:p,params:{},uri:t};else{for(var f=x(p.path),h={},d=Math.max(i.length,f.length),v=0;v<d;v++){var y=f[v],g=i[v];if(S(y)){h[y.slice(1)||"*"]=i.slice(v).map(decodeURIComponent).join("/");break}if(void 0===g){l=!0;break}var b=P.exec(y);if(b&&!a){-1===M.indexOf(b[1])||m(!1);var w=decodeURIComponent(g);h[b[1]]=w}else if(y!==g){l=!0;break}}if(!l){n={route:p,params:h,uri:"/"+i.slice(0,v).join("/")};break}}}return n||o||null},g=function(e,t){return y([{path:e}],t)},b=function(e,t){if(v(e,"/")||v(e,"#"))return e;var n=e.split("?"),o=n[0],r=n[1],i=t.split("?")[0],a=x(o),u=x(i);if(""===a[0])return O(i,r);if(!v(a[0],".")){var s=u.concat(a).join("/");return O(("/"===i?"":"/")+s,r)}for(var c=u.concat(a),l=[],p=0,f=c.length;p<f;p++){var h=c[p];".."===h?l.pop():"."!==h&&l.push(h)}return O("/"+l.join("/"),r)},w=function(e,t){var n=e.split("?"),o=n[0],r=n[1],i=void 0===r?"":r,a="/"+x(o).map(function(e){var n=P.exec(e);return n?t[n[1]]:e}).join("/"),u=t.location,s=(u=void 0===u?{}:u).search,c=(void 0===s?"":s).split("?")[1]||"";return a=O(a,i,c)},P=/^:(.+)/,C=function(e){return P.test(e)},S=function(e){return e&&"*"===e[0]},E=function(e,t){return{route:e,score:e.default?0:x(e.path).reduce(function(e,t){return e+=4,!function(e){return""===e}(t)?C(t)?e+=2:S(t)?e-=5:e+=3:e+=1,e},0),index:t}},_=function(e){return e.map(E).sort(function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index})},x=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},O=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e+((n=n.filter(function(e){return e&&e.length>0}))&&n.length>0?"?"+n.join("&"):"")},M=["uri","path"],j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function F(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function R(e,t){return e(t={exports:{}},t.exports),t.exports}var U=R(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case l:case p:case i:case u:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case s:return e;default:return t}}case r:return t}}}function P(e){return w(e)===p}t.typeOf=w,t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=s,t.Element=o,t.ForwardRef=f,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=r,t.Profiler=u,t.StrictMode=a,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===u||e===a||e===h||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===g||e.$$typeof===b)},t.isAsyncMode=function(e){return P(e)||w(e)===l},t.isConcurrentMode=P,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h}});F(U);U.typeOf,U.AsyncMode,U.ConcurrentMode,U.ContextConsumer,U.ContextProvider,U.Element,U.ForwardRef,U.Fragment,U.Lazy,U.Memo,U.Portal,U.Profiler,U.StrictMode,U.Suspense,U.isValidElementType,U.isAsyncMode,U.isConcurrentMode,U.isContextConsumer,U.isContextProvider,U.isElement,U.isForwardRef,U.isFragment,U.isLazy,U.isMemo,U.isPortal,U.isProfiler,U.isStrictMode,U.isSuspense;var k=R(function(e,t){});F(k);k.typeOf,k.AsyncMode,k.ConcurrentMode,k.ContextConsumer,k.ContextProvider,k.Element,k.ForwardRef,k.Fragment,k.Lazy,k.Memo,k.Portal,k.Profiler,k.StrictMode,k.Suspense,k.isValidElementType,k.isAsyncMode,k.isConcurrentMode,k.isContextConsumer,k.isContextProvider,k.isElement,k.isForwardRef,k.isFragment,k.isLazy,k.isMemo,k.isPortal,k.isProfiler,k.isStrictMode,k.isSuspense,R(function(e){e.exports=U});var T=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}})()&&Object.assign;var L="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Function.call.bind(Object.prototype.hasOwnProperty);function $(){}function A(){}A.resetWarningCache=$;var q=R(function(e){e.exports=function(){function e(e,t,n,o,r,i){if(i!==L){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:A,resetWarningCache:$};return n.PropTypes=n,n}()}),I="__global_unique_id__",N=function(){return j[I]=(j[I]||0)+1},B=function(){},V=B,z=R(function(e,t){t.__esModule=!0;i(o);var n=i(q),r=i(N);i(V);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=1073741823;t.default=function(e,t){var i,l,p="__create-react-context-"+(0,r.default)()+"__",f=function(e){function n(){var t,o,r,i;a(this,n);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return t=o=u(this,e.call.apply(e,[this].concat(c))),o.emitter=(r=o.props.value,i=[],{on:function(e){i.push(e)},off:function(e){i=i.filter(function(t){return t!==e})},get:function(){return r},set:function(e,t){r=e,i.forEach(function(e){return e(r,t)})}}),u(o,t)}return s(n,e),n.prototype.getChildContext=function(){var e;return(e={})[p]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,o=e.value,r=void 0;((i=n)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?r=0:(r="function"==typeof t?t(n,o):c,0!=(r|=0)&&this.emitter.set(e.value,r))}var i,a},n.prototype.render=function(){return this.props.children},n}(o.Component);f.childContextTypes=((i={})[p]=n.default.object.isRequired,i);var h=function(t){function n(){var e,o;a(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=o=u(this,t.call.apply(t,[this].concat(i))),o.state={value:o.getValue()},o.onUpdate=function(e,t){0!=((0|o.observedBits)&t)&&o.setState({value:o.getValue()})},u(o,e)}return s(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?c:t},n.prototype.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?c:e},n.prototype.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[p]?this.context[p].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.Component);return h.contextTypes=((l={})[p]=n.default.object,l),{Provider:f,Consumer:h}},e.exports=t.default});F(z);var H=F(R(function(e,t){t.__esModule=!0;var n=i(o),r=i(z);function i(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.createContext||r.default,e.exports=t.default}));function K(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Y(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function G(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}K.__suppressDeprecationWarning=!0,Y.__suppressDeprecationWarning=!0,G.__suppressDeprecationWarning=!0;var J=function(e,t){var n=H(t);return n.displayName=e,n},Q=J("Location"),X=function(e){var t=e.children;return o.createElement(Q.Consumer,null,function(e){return e?t(e):o.createElement(Z,null,t)})},Z=function(e){function t(){var n,o;r(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=o=s(this,e.call.apply(e,[this].concat(a))),o.state={context:o.getContext(),refs:{unlisten:null}},s(o,n)}return a(t,e),t.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},t.prototype.componentDidCatch=function(e,t){if(!fe(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},t.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},t.prototype.componentDidMount=function(){var e=this,t=this.state.refs,n=this.props.history;n._onTransitionComplete(),t.unlisten=n.listen(function(){Promise.resolve().then(function(){requestAnimationFrame(function(){e.unmounted||e.setState(function(){return{context:e.getContext()}})})})})},t.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},t.prototype.render=function(){var e=this.state.context,t=this.props.children;return o.createElement(Q.Provider,{value:e},"function"==typeof t?t(e):t||null)},t}(o.Component);Z.defaultProps={history:h};var ee=J("Base",{baseuri:"/",basepath:"/",navigate:h.navigate}),te=function(e){return o.createElement(ee.Consumer,null,function(t){return o.createElement(X,null,function(n){return o.createElement(ne,i({},t,n,e))})})},ne=function(e){function t(){return r(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.navigate,r=e.basepath,a=e.primary,s=e.children,c=(e.baseuri,e.component),l=void 0===c?"div":c,p=u(e,["location","navigate","basepath","primary","children","baseuri","component"]),f=o.Children.toArray(s).reduce(function(e,t){var n=ge(r)(t);return e.concat(n)},[]),h=t.pathname,d=y(f,h);if(d){var m=d.params,v=d.uri,g=d.route,w=d.route.value;r=g.default?r:g.path.replace(/\*$/,"");var P=i({},m,{uri:v,location:t,navigate:function(e,t){return n(b(e,v),t)}}),C=o.cloneElement(w,P,w.props.children?o.createElement(te,{location:t,primary:a},w.props.children):void 0),S=a?re:l,E=a?i({uri:v,location:t,component:l},p):p;return o.createElement(ee.Provider,{value:{baseuri:v,basepath:r,navigate:P.navigate}},o.createElement(S,E,C))}return null},t}(o.PureComponent);ne.defaultProps={primary:!0};var oe=J("Focus"),re=function(e){var t=e.uri,n=e.location,r=e.component,a=u(e,["uri","location","component"]);return o.createElement(oe.Consumer,null,function(e){return o.createElement(ue,i({},a,{component:r,requestFocus:e,uri:t,location:n}))})},ie=!0,ae=0,ue=function(e){function t(){var n,o;r(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=o=s(this,e.call.apply(e,[this].concat(a))),o.state={},o.requestFocus=function(e){!o.state.shouldFocus&&e&&e.focus()},s(o,n)}return a(t,e),t.getDerivedStateFromProps=function(e,t){if(null==t.uri)return i({shouldFocus:!0},e);var n=e.uri!==t.uri,o=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return i({shouldFocus:n||o},e)},t.prototype.componentDidMount=function(){ae++,this.focus()},t.prototype.componentWillUnmount=function(){0===--ae&&(ie=!0)},t.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},t.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):ie?ie=!1:this.node&&(this.node.contains(document.activeElement)||this.node.focus())},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,t.style),r=(t.requestFocus,t.component),a=void 0===r?"div":r,s=(t.uri,t.location,u(t,["children","style","requestFocus","component","uri","location"]));return o.createElement(a,i({style:i({outline:"none"},n),tabIndex:"-1",ref:function(t){return e.node=t}},s),o.createElement(oe.Provider,{value:this.requestFocus},this.props.children))},t}(o.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=K,t.componentWillReceiveProps=Y),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=G;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,o)}}}(ue);var se=function(){},ce=o.forwardRef;void 0===ce&&(ce=function(e){return e});var le=ce(function(e,t){var n=e.innerRef,r=u(e,["innerRef"]);return o.createElement(ee.Consumer,null,function(e){e.basepath;var a=e.baseuri;return o.createElement(X,null,function(e){var s=e.location,c=e.navigate,l=r.to,p=r.state,f=r.replace,h=r.getProps,d=void 0===h?se:h,m=u(r,["to","state","replace","getProps"]),y=b(l,a),g=encodeURI(y),w=s.pathname===g,P=v(s.pathname,g);return o.createElement("a",i({ref:t||n,"aria-current":w?"page":void 0},m,d({isCurrent:w,isPartiallyCurrent:P,href:y,location:s}),{href:y,onClick:function(e){if(m.onClick&&m.onClick(e),be(e)){e.preventDefault();var t=f;if("boolean"!=typeof f&&w){var n=i({},s.state),o=(n.key,u(n,["key"]));r=i({},p),a=o,t=(l=Object.keys(r)).length===Object.keys(a).length&&l.every(function(e){return a.hasOwnProperty(e)&&r[e]===a[e]})}c(y,{state:p,replace:t})}var r,a,l}}))})})});function pe(e){this.uri=e}le.displayName="Link";var fe=function(e){return e instanceof pe},he=function(e){throw new pe(e)},de=function(e){function t(){return r(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,n=e.to,o=(e.from,e.replace),r=void 0===o||o,i=e.state,a=(e.noThrow,e.baseuri),s=u(e,["navigate","to","from","replace","state","noThrow","baseuri"]);Promise.resolve().then(function(){var e=b(n,a);t(w(e,s),{replace:r,state:i})})},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),n=(e.from,e.replace,e.state,e.noThrow),o=e.baseuri,r=u(e,["navigate","to","from","replace","state","noThrow","baseuri"]),i=b(t,o);return n||he(w(i,r)),null},t}(o.Component),me=function(e){return o.createElement(ee.Consumer,null,function(t){var n=t.baseuri;return o.createElement(X,null,function(t){return o.createElement(de,i({},t,{baseuri:n},e))})})},ve=function(){var e=t.useContext(Q);if(!e)throw new Error("useLocation hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");return e.location},ye=function(e){return e.replace(/(^\/+|\/+$)/g,"")},ge=function e(t){return function(n){if(!n)return null;if(n.type===o.Fragment&&n.props.children)return o.Children.map(n.props.children,e(t));var r,i,a;if(n.props.path||n.props.default||n.type===me||m(!1),n.type!==me||n.props.from&&n.props.to||m(!1),n.type===me&&(r=n.props.from,i=n.props.to,a=function(e){return C(e)},x(r).filter(a).sort().join("/")!==x(i).filter(a).sort().join("/"))&&m(!1),n.props.default)return{value:n,default:!0};var u=n.type===me?n.props.from:n.props.path,s="/"===u?t:ye(t)+"/"+ye(u);return{value:n,default:n.props.default,path:n.props.children?ye(s)+"/*":s}}},be=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)};e.Link=le,e.Location=X,e.LocationProvider=Z,e.Match=function(e){var t=e.path,n=e.children;return o.createElement(ee.Consumer,null,function(e){var r=e.baseuri;return o.createElement(X,null,function(e){var o=e.navigate,a=e.location,u=b(t,r),s=g(u,a.pathname);return n({navigate:o,location:a,match:s?i({},s.params,{uri:s.uri,path:t}):null})})})},e.Redirect=me,e.Router=te,e.ServerLocation=function(e){var t=e.url,n=e.query,r=e.children,i=t.indexOf("?"),a=void 0,u="";return i>-1?(a=t.substring(0,i),u=t.substring(i)):a=t,o.createElement(Q.Provider,{value:{location:{pathname:a,search:u,hash:"",query:n},navigate:function(){throw new Error("You can't call navigate on the server.")}}},r)},e.createHistory=l,e.createMemorySource=p,e.isRedirect=fe,e.navigate=d,e.redirectTo=he,e.globalHistory=h,e.matchPath=g,e.useLocation=ve,e.useNavigate=function(){var e=t.useContext(ee);if(!e)throw new Error("useNavigate hook was used but a BaseContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");return e.navigate},e.useParams=function(){var e=t.useContext(ee);if(!e)throw new Error("useParams hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");var n=ve(),o=g(e.basepath,n.pathname);return o?o.params:null},e.useMatch=function(e){if(!e)throw new Error("useMatch(path: string) requires an argument of a string to match against");var n=t.useContext(ee);if(!n)throw new Error("useMatch hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router");var o=ve(),r=b(e,n.baseuri),a=g(r,o.pathname);return a?i({},a.params,{uri:a.uri,path:e}):null},Object.defineProperty(e,"__esModule",{value:!0})});
